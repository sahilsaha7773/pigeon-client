(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{10:function(e,t,n){e.exports={card:"userInfo_card__3yXUO",id:"userInfo_id__QWgh4",pass:"userInfo_pass__1NyGe",cpbtn:"userInfo_cpbtn__2Nnbo",wpbtn:"userInfo_wpbtn__3jcQh",fbbtn:"userInfo_fbbtn__3BzG1"}},15:function(e,t,n){e.exports={card:"messages_card__1xp6j",ref:"messages_ref__1nGFY"}},16:function(e,t,n){e.exports={form:"sendMsg_form__10qPu"}},19:function(e,t,n){e.exports={loginForm:"login_loginForm__X-YfN"}},21:function(e,t,n){e.exports={nav:"navbar_nav__3PcoF"}},22:function(e,t,n){e.exports={card:"create_card__3DlfQ"}},23:function(e,t,n){e.exports={footer:"footer_footer__15SXk"}},28:function(e,t,n){},29:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(18),o=n.n(s),c=(n(28),n(29),n(8)),i=n.n(c),l=n(11),d=n(3),u=n(19),j=n.n(u),b={url:"https://pigeon-backend.herokuapp.com"},h=n(2),g=n(7),p=n.p+"static/media/loginillu3.cf3069e3.svg",f=n(9),x=n(1);var O,m=function(){var e=Object(h.f)(),t=r.a.useState(""),n=Object(d.a)(t,2),a=n[0],s=n[1],o=r.a.useState(""),c=Object(d.a)(o,2),u=c[0],O=c[1],m=r.a.useState(!1),v=Object(d.a)(m,2),y=v[0],w=v[1];r.a.useEffect((function(){document.title="Login | Pigeon",localStorage.getItem("token")&&e("/")}),[e]);var S=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),w(!0),fetch(b.url+"/user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,password:u})}).then((function(e){return e.json()})).then((function(e){e.success?(localStorage.setItem("token",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user)),window.location.reload()):(w(!1),alert(e.message))})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:j.a.loginForm,children:[Object(x.jsx)("img",{src:p,alt:"Illustration",style:{width:"50%",margin:"20px auto"}}),Object(x.jsx)("h2",{children:"Login to view your messages \ud83d\udcec"}),y?Object(x.jsx)("div",{style:{textAlign:"center",margin:"40px 0"},children:Object(x.jsx)(f.SyncLoader,{color:"rgb(22, 130, 202)"})}):Object(x.jsxs)("div",{children:[Object(x.jsx)("input",{type:"text",placeholder:"Username",value:a,onChange:function(e){return s(e.target.value)}}),Object(x.jsx)("input",{type:"password",placeholder:"Password",value:u,onChange:function(e){return O(e.target.value)}}),Object(x.jsx)("button",{onClick:S,children:"Login"}),Object(x.jsxs)("p",{children:["Don't have an account or forgot the credentials? ",Object(x.jsx)(g.b,{to:"/create",children:"Create one."})]})]})]})},v=n(15),y=n.n(v),w="0123456789ABCDEF".split("");function S(e){O+=w[Math.round(Math.random()*e)]}function k(){O="#",S(5);for(var e=0;e<5;e++)S(10);return O}var _=function(){var e=r.a.useState([]),t=Object(d.a)(e,2),n=t[0],a=t[1],s=r.a.useState(!0),o=Object(d.a)(s,2),c=o[0],i=o[1],l=r.a.useState(!1),u=Object(d.a)(l,2),j=u[0],h=u[1];return r.a.useEffect((function(){i(!0),fetch(b.url+"/message/get",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){console.log(e),e.success&&a(e.data),i(!1)})).catch((function(e){console.log(e),i(!1)}))}),[j]),Object(x.jsxs)("div",{className:y.a.card,children:[Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(x.jsx)("h1",{children:"Your Messages"}),Object(x.jsx)("i",{class:"fa fa-refresh ".concat(y.a.ref),style:{fontSize:"30px"},onClick:function(e){return h(!j)}})]}),Object(x.jsx)("hr",{style:{marginBottom:"30px"}}),c?Object(x.jsx)("div",{style:{textAlign:"center",margin:"40px 0"},children:Object(x.jsx)(f.SyncLoader,{color:"rgb(22, 130, 202)"})}):Object(x.jsxs)("div",{children:[0===n.length&&Object(x.jsx)("p",{children:"Share the above link with your friends to recieve messages \ud83d\ude80"}),null===n||void 0===n?void 0:n.map((function(e){var t=new Date(e.createdAt);return Object(x.jsxs)("div",{style:{backgroundColor:k(),padding:"20px",borderRadius:"10px",color:"white",margin:"20px 0"},children:[Object(x.jsx)("p",{style:{fontSize:"20px"},children:e.text}),Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(x.jsx)("div",{className:"grow",onClick:function(t){return n=e._id,void(window.confirm("Are you sure you want to delete this message?")&&(i(!0),fetch(b.url+"/message/delete/"+n,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){console.log(e),e.success?h(!j):i(!1)}))));var n},children:Object(x.jsx)("i",{class:"fa fa-trash-o",style:{fontSize:"20px"}})}),Object(x.jsxs)("p",{style:{textAlign:"right"},children:[t.getHours(),":",t.getMinutes(),Object(x.jsx)("br",{}),t.getDate(),"/",t.getMonth()+1,"/",t.getFullYear()]})]})]},e._id)}))]})]})},I=n(20),C=n(10),N=n.n(C);var D=function(e){var t=e.id,n=e.password,a=r.a.useState({}),s=Object(d.a)(a,2),o=s[0],c=s[1];return r.a.useEffect((function(){c(JSON.parse(localStorage.getItem("user")))}),[]),Object(x.jsxs)("div",{className:N.a.card,children:[Object(x.jsx)("h1",{children:"User Info \ud83d\udd37"}),Object(x.jsx)("h2",{children:o.name}),Object(x.jsx)("hr",{}),Object(x.jsxs)("p",{children:[Object(x.jsx)("span",{className:N.a.id,style:{marginRight:"8px"},children:"ID: "}),Object(x.jsx)("span",{className:N.a.id,children:t})]}),Object(x.jsxs)("p",{children:[Object(x.jsx)("span",{className:N.a.pass,style:{marginRight:"8px"},children:"PASSWORD: "}),Object(x.jsx)("span",{className:N.a.pass,children:n})]}),Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[Object(x.jsxs)("p",{style:{margin:"0 20px 0 0",padding:"20px",border:"1px solid rgb(22, 130, 202)",borderRadius:"5px",width:"100%",overflow:"auto"},children:[window.location.origin,"/#/message/",t]}),Object(x.jsxs)("button",{style:{padding:"20px",backgroundColor:"rgb(22, 130, 202)",border:"none",borderRadius:"5px",color:"white",fontWeight:"bold",display:"flex"},className:N.a.cpbtn,onClick:function(e){Object(I.a)("".concat(window.location.origin,"/#/message/").concat(t)),alert("Link copied to clipboard!")},children:["Copy ",Object(x.jsx)("i",{class:"fa fa-copy",style:{marginLeft:"5px"}})]})]}),Object(x.jsxs)("button",{className:N.a.wpbtn,onClick:function(e){window.open("whatsapp://send?text=\u2709%EF%B8%8F\ud83d\udcac\ud83d\udc8c%0D%0ASend+Secret+Message+to+me+\ud83e\udd29!+I+will+never+know+who+sent+me+which+message.+%0D%0AIt%27s+fun!+Try+here+\ud83d\udc49+https://pigeon.rocks/%23/message/".concat(t))},children:["Share on WhatsApp ",Object(x.jsx)("i",{class:"fa fa-whatsapp",style:{fontSize:"24px",marginLeft:"5px"}})]})]})};var A=function(){var e=r.a.useState(),t=Object(d.a)(e,2),n=t[0],a=t[1],s=Object(h.f)();return r.a.useEffect((function(){document.title="Inbox | Pigeon",null===localStorage.getItem("token")?s("/create"):a(JSON.parse(localStorage.getItem("user")))}),[s]),Object(x.jsxs)("div",{children:[Object(x.jsx)(D,{id:null===n||void 0===n?void 0:n._id,password:null===n||void 0===n?void 0:n.password}),Object(x.jsx)(_,{})]})},L=n(16),M=n.n(L);var P=function(){var e=Object(h.f)(),t=r.a.useState(""),n=Object(d.a)(t,2),a=n[0],s=n[1],o=r.a.useState(!1),c=Object(d.a)(o,2),u=c[0],j=c[1],g=Object(h.g)().id;r.a.useEffect((function(){document.title="Send Message | Pigeon",localStorage.getItem("token")&&e("/")}),[e]);var p=function(){var t=Object(l.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),0!==a.length){t.next=4;break}return alert("Please enter a message"),t.abrupt("return");case 4:j(!0),fetch(b.url+"/message/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:a,user:g})}).then((function(e){return e.json()})).then((function(t){j(!1),s(""),t.success?(alert("Message sent successfully"),e("/create")):alert(t.messsage)})).catch((function(e){j(!1),alert(e)}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:M.a.form,children:[Object(x.jsx)("h2",{children:"Message your friend Secretly \ud83d\ude09, they will never know who messaged them.\ud83d\ude80"}),Object(x.jsx)("hr",{}),u?Object(x.jsx)("div",{style:{textAlign:"center",margin:"40px 0"},children:Object(x.jsx)(f.SyncLoader,{color:"rgb(22, 130, 202)"})}):Object(x.jsxs)("div",{children:[Object(x.jsx)("textarea",{type:"text",rows:4,placeholder:"Type your message here",value:a,onChange:function(e){return s(e.target.value)}}),Object(x.jsx)("button",{onClick:p,children:"Send Secret Message \ud83d\ude0e"})]})]}),Object(x.jsx)("div",{className:M.a.form,children:Object(x.jsx)("h2",{children:" Message your friend anonymously, they will never know who sent the message.\ud83d\ude0e This website is just for fun. Do not go out of your way to spread hate.\ud83d\ude45\u200d\u2642\ufe0f\ud83d\ude45\u200d\u2640\ufe0f"})})]})},T=n(21),E=n.n(T);var R=function(){var e=Object(h.f)(),t=r.a.useState(!1),n=Object(d.a)(t,2),a=n[0],s=n[1];return r.a.useEffect((function(){localStorage.getItem("token")&&s(!0)}),[]),Object(x.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",boxShadow:"2px 2px 10px rgb(0,0,0,0.1)",padding:"0 40px",alignItems:"center"},className:E.a.nav,children:[Object(x.jsx)("h1",{style:{borderRadius:"5px",padding:"10px",backgroundColor:"rgb(22 130 202)",color:"white"},onClick:function(){return e("/")},children:"Pigeon"}),a?Object(x.jsx)("button",{style:{padding:"15px",borderRadius:"10px",border:"2px solid",fontWeight:"bold",background:"white",color:"rgb(22 130 202)"},onClick:function(t){t.preventDefault(),window.confirm("Don't forget to take a note of your login credentials before logging out")&&(localStorage.removeItem("token"),localStorage.removeItem("user"),s(!1),e("/login"))},children:"Logout"}):Object(x.jsxs)("div",{children:[Object(x.jsx)("button",{style:{padding:"15px",borderRadius:"10px",border:"2px solid",background:"white",color:"rgb(22 130 202)",marginRight:"10px",fontWeight:"bold"},onClick:function(t){t.preventDefault(),e("/login")},children:"Login"}),Object(x.jsx)("button",{style:{padding:"15px",borderRadius:"10px",border:"2px solid",fontWeight:"bold",background:"white",color:"rgb(22 130 202)"},onClick:function(t){t.preventDefault(),e("/create")},children:"Sign Up"})]})]})},F=n(22),J=n.n(F);var B=function(){var e=Object(h.f)(),t=r.a.useState(""),n=Object(d.a)(t,2),a=n[0],s=n[1],o=r.a.useState(!1),c=Object(d.a)(o,2),u=c[0],j=c[1];r.a.useEffect((function(){document.title="Create | Pigeon",localStorage.getItem("token")&&e("/")}),[e]);var O=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),j(!0),fetch(b.url+"/user/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a})}).then((function(e){return e.json()})).then((function(e){e.success?(localStorage.setItem("token",e.data.token),localStorage.setItem("user",JSON.stringify(e.data)),window.location.reload()):alert(e.message),j(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:J.a.card,children:[Object(x.jsx)("img",{src:p,alt:"Illustration",style:{width:"50%",margin:"20px auto"}}),Object(x.jsx)("h2",{children:"Get anonymous messages from your friends and family"}),Object(x.jsx)("h3",{style:{fontWeight:"normal"},children:"You can never know who messaged you!\ud83d\udd2e"}),u?Object(x.jsx)("div",{style:{textAlign:"center",margin:"40px 0"},children:Object(x.jsx)(f.SyncLoader,{color:"rgb(22, 130, 202)"})}):Object(x.jsxs)("div",{children:[Object(x.jsx)("input",{type:"text",placeholder:"Your Name",value:a,onChange:function(e){return s(e.target.value)}}),Object(x.jsxs)("button",{onClick:O,children:["Create Your Link ",Object(x.jsx)("span",{style:{marginLeft:"5px"},children:"\ud83d\ude0e"})]}),Object(x.jsxs)("p",{children:["Already have a link? ",Object(x.jsx)(g.b,{to:"/login",children:"Login here"})]})]})]})},W=n(23),z=n.n(W);var Y=function(){return Object(x.jsx)("div",{className:z.a.footer,children:Object(x.jsxs)("h3",{style:{margin:"0"},children:["Made with \ud83d\udc93 and \u2615 by ",Object(x.jsx)("a",{href:"https://sahilsaha.me",rel:"noreferrer",target:"_blank",children:"Sahil Saha"})]})})};var G=function(){return Object(x.jsx)("div",{className:"App",children:Object(x.jsxs)(g.a,{children:[Object(x.jsx)(R,{}),Object(x.jsxs)(h.c,{children:[Object(x.jsx)(h.a,{path:"/",element:Object(x.jsx)(A,{})}),Object(x.jsx)(h.a,{path:"/create",element:Object(x.jsx)(B,{})}),Object(x.jsx)(h.a,{path:"/login",element:Object(x.jsx)(m,{})}),Object(x.jsx)(h.a,{path:"/message/:id",element:Object(x.jsx)(P,{})})]}),Object(x.jsx)(Y,{})]})})};o.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(G,{})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.59a5f5d3.chunk.js.map