(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],[,,,,,,,function(e,t,n){e.exports={card:"userInfo_card__3yXUO",id:"userInfo_id__QWgh4",pass:"userInfo_pass__1NyGe",cpbtn:"userInfo_cpbtn__2Nnbo",wpbtn:"userInfo_wpbtn__3jcQh",fbbtn:"userInfo_fbbtn__3BzG1"}},,,,,function(e,t,n){e.exports={card:"messages_card__1xp6j",ref:"messages_ref__1nGFY"}},function(e,t,n){e.exports={form:"sendMsg_form__10qPu"}},,function(e,t,n){e.exports={loginForm:"login_loginForm__X-YfN"}},,function(e,t,n){e.exports={nav:"navbar_nav__3PcoF"}},function(e,t,n){e.exports={card:"create_card__3DlfQ"}},function(e,t,n){e.exports={footer:"footer_footer__15SXk"}},,,,,function(e,t,n){},function(e,t,n){},,,,function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),o=n(14),r=n.n(o),c=(n(24),n(25),n(5)),i=n.n(c),l=n(8),u=n(3),d=n(15),j=n.n(d),b="https://pigeon-backend.herokuapp.com",h=n(2),p=n(6),f=n.p+"static/media/loginillu3.cf3069e3.svg",g=n(0);var x,O=function(){var e=Object(h.f)(),t=s.a.useState(""),n=Object(u.a)(t,2),a=n[0],o=n[1],r=s.a.useState(""),c=Object(u.a)(r,2),d=c[0],x=c[1],O=s.a.useState(!1),m=Object(u.a)(O,2),v=(m[0],m[1]);s.a.useEffect((function(){localStorage.getItem("token")&&e("/")}),[]);var y=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),v(!0),fetch(b+"/user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,password:d})}).then((function(e){return e.json()})).then((function(e){e.success?(localStorage.setItem("token",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user)),window.location.reload()):(v(!1),alert(e.message))})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:j.a.loginForm,children:[Object(g.jsx)("img",{src:f,style:{width:"50%",margin:"20px auto"}}),Object(g.jsx)("h2",{children:"Login to view your messages \ud83d\udcec"}),Object(g.jsx)("input",{type:"text",placeholder:"Username",value:a,onChange:function(e){return o(e.target.value)}}),Object(g.jsx)("input",{type:"password",placeholder:"Password",value:d,onChange:function(e){return x(e.target.value)}}),Object(g.jsx)("button",{onClick:y,children:"Login"}),Object(g.jsxs)("p",{children:["Don't have an account or forgot the credentials? ",Object(g.jsx)(p.b,{to:"/create",children:"Create one."})]})]})},m=n(12),v=n.n(m),y="0123456789ABCDEF".split("");function w(e){x+=y[Math.round(Math.random()*e)]}function S(){x="#",w(5);for(var e=0;e<5;e++)w(10);return x}var k=function(){var e=s.a.useState([]),t=Object(u.a)(e,2),n=t[0],a=t[1],o=s.a.useState(!0),r=Object(u.a)(o,2),c=(r[0],r[1]),i=s.a.useState(!1),l=Object(u.a)(i,2),d=l[0],j=l[1];return s.a.useEffect((function(){fetch(b+"/message/get",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){console.log(e),e.success&&a(e.data),c(!1)})).catch((function(e){console.log(e),c(!1)}))}),[d]),Object(g.jsxs)("div",{className:v.a.card,children:[Object(g.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(g.jsx)("h1",{children:"Your Messages"}),Object(g.jsx)("i",{class:"fa fa-refresh ".concat(v.a.ref),style:{fontSize:"30px"},onClick:function(e){return j(!d)}})]}),Object(g.jsx)("hr",{style:{marginBottom:"30px"}}),0===n.length&&Object(g.jsx)("p",{children:"You don't have any new messages, share the above link with your friends"}),null===n||void 0===n?void 0:n.map((function(e){var t=new Date(e.createdAt);return Object(g.jsxs)("div",{style:{backgroundColor:S(),padding:"20px",borderRadius:"10px",color:"white",margin:"20px 0"},children:[Object(g.jsx)("p",{style:{fontSize:"20px"},children:e.text}),Object(g.jsxs)("p",{style:{textAlign:"right"},children:[t.getHours(),":",t.getMinutes(),Object(g.jsx)("br",{}),t.getDate(),"/",t.getMonth()+1,"/",t.getFullYear()]})]},e._id)}))]})},_=n(17),C=n.n(_);var I=function(){var e=Object(h.f)(),t=s.a.useState(!1),n=Object(u.a)(t,2),a=n[0],o=n[1];return s.a.useEffect((function(){localStorage.getItem("token")&&o(!0)}),[]),Object(g.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",boxShadow:"2px 2px 10px rgb(0,0,0,0.1)",padding:"0 40px",alignItems:"center"},className:C.a.nav,children:[Object(g.jsx)("h1",{style:{borderRadius:"5px",padding:"10px",backgroundColor:"rgb(22 130 202)",color:"white"},onClick:function(){return e("/")},children:"Pigeon"}),a?Object(g.jsx)("button",{style:{padding:"15px 40px",borderRadius:"10px",border:"2px solid",fontWeight:"bold",background:"white",color:"rgb(22 130 202)"},onClick:function(t){t.preventDefault(),localStorage.removeItem("token"),localStorage.removeItem("user"),o(!1),e("/login")},children:"Logout"}):Object(g.jsxs)("div",{children:[Object(g.jsx)("button",{style:{padding:"15px",borderRadius:"10px",border:"2px solid",background:"white",color:"rgb(22 130 202)",marginRight:"10px",fontWeight:"bold"},onClick:function(t){t.preventDefault(),e("/login")},children:"Login"}),Object(g.jsx)("button",{style:{padding:"15px",borderRadius:"10px",border:"2px solid",fontWeight:"bold",background:"white",color:"rgb(22 130 202)"},onClick:function(t){t.preventDefault(),e("/create")},children:"Sign Up"})]})]})},N=(n(28),n(7)),D=n.n(N);var M=function(e){var t,n=e.id,a=e.password,o=s.a.useState({}),r=Object(u.a)(o,2),c=r[0],i=r[1];return s.a.useEffect((function(){i(JSON.parse(localStorage.getItem("user")))}),[]),Object(g.jsxs)("div",{className:D.a.card,children:[Object(g.jsx)("h1",{children:"User Info"}),Object(g.jsx)("hr",{}),Object(g.jsxs)("p",{children:[Object(g.jsx)("span",{className:D.a.id,style:{marginRight:"8px"},children:"ID: "}),Object(g.jsx)("span",{className:D.a.id,children:n})]}),Object(g.jsxs)("p",{children:[Object(g.jsx)("span",{className:D.a.pass,style:{marginRight:"8px"},children:"PASSWORD: "}),Object(g.jsx)("span",{className:D.a.pass,children:a})]}),Object(g.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[Object(g.jsxs)("p",{style:{margin:"0 20px 0 0",padding:"20px",border:"1px solid rgb(22, 130, 202)",borderRadius:"5px",width:"100%",overflow:"auto"},children:[window.location.origin,"/#/message/",n]}),Object(g.jsxs)("button",{style:{padding:"20px",backgroundColor:"rgb(22, 130, 202)",border:"none",borderRadius:"5px",color:"white",fontWeight:"bold",display:"flex"},className:D.a.cpbtn,onClick:null===(t=navigator.clipboard)||void 0===t?void 0:t.writeText("".concat(window.location.origin,"/#/message/").concat(n)),children:["Copy ",Object(g.jsx)("i",{class:"fa fa-copy",style:{marginLeft:"5px"}})]})]}),Object(g.jsxs)("button",{className:D.a.wpbtn,onClick:function(e){window.open("whatsapp://send?text=\u2709%EF%B8%8F\ud83d\udcac\ud83d\udc8c%0D%0ASend+Secret+Message+to+".concat(c.name,"\ud83e\udd29+I+will+never+know+who+sent+me+which+message+\ud83e\udd14%0D%0AIt%27s+fun%2C+Try+here+\ud83d\udc49+").concat(window.location.origin,"/#/message/").concat(n))},children:["Share on WhatsApp ",Object(g.jsx)("i",{class:"fa fa-whatsapp",style:{fontSize:"24px",marginLeft:"5px"}})]}),Object(g.jsxs)("button",{className:D.a.fbbtn,children:["Share on Facebook ",Object(g.jsx)("i",{class:"fa fa-facebook"})]})]})};var T=function(){var e=s.a.useState(),t=Object(u.a)(e,2),n=t[0],a=t[1],o=Object(h.f)();return s.a.useEffect(Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(localStorage.getItem("token")),null===localStorage.getItem("token")?o("/login"):a(JSON.parse(localStorage.getItem("user")));case 2:case"end":return e.stop()}}),e)}))),[]),Object(g.jsxs)("div",{children:[Object(g.jsx)(M,{id:null===n||void 0===n?void 0:n._id,password:null===n||void 0===n?void 0:n.password}),Object(g.jsx)(k,{})]})},E=n(13),R=n.n(E);var A=function(){var e=Object(h.f)(),t=s.a.useState(""),n=Object(u.a)(t,2),a=n[0],o=n[1],r=s.a.useState(!1),c=Object(u.a)(r,2),d=(c[0],c[1]),j=Object(h.g)().id;s.a.useEffect((function(){localStorage.getItem("token")&&e("/")}),[]);var p=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),d(!0),fetch(b+"/message/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:a,user:j})}).then((function(e){return e.json()})).then((function(e){d(!1),o(""),e.success?alert("Message sent successfully"):alert(e.messsage)})).catch((function(e){d(!1),alert(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:R.a.form,children:[Object(g.jsx)("h2",{children:"Message your friend Secretly \ud83d\ude09, they will never know who messaged them.\ud83d\ude05"}),Object(g.jsx)("hr",{}),Object(g.jsx)("textarea",{type:"text",rows:4,placeholder:"Type your message here",value:a,onChange:function(e){return o(e.target.value)}}),Object(g.jsx)("button",{onClick:p,children:"Send"})]}),Object(g.jsx)("div",{className:R.a.form,children:Object(g.jsx)("h2",{children:" Message your friend anonymously, they will never know who sent the message.\ud83e\udd17\ud83d\ude0d This website is just for fun\ud83d\ude1c. Do not go out of your way to spread hate.\ud83d\ude45\u200d\u2642\ufe0f\ud83d\ude45\u200d\u2640\ufe0f"})})]})},F=n(18),J=n.n(F);var L=function(){var e=Object(h.f)(),t=s.a.useState(""),n=Object(u.a)(t,2),a=n[0],o=n[1],r=s.a.useState(!1),c=Object(u.a)(r,2),d=(c[0],c[1]);s.a.useEffect((function(){localStorage.getItem("token")&&e("/")}),[]);var j=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),d(!0),fetch(b+"/user/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a})}).then((function(e){return e.json()})).then((function(e){e.success?(localStorage.setItem("token",e.data.token),localStorage.setItem("user",JSON.stringify(e.data)),window.location.reload()):alert(e.message),d(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:J.a.card,children:[Object(g.jsx)("img",{src:f,style:{width:"50%",margin:"20px auto"}}),Object(g.jsx)("h2",{children:"Get anonymous messages from your friends and family"}),Object(g.jsx)("h3",{style:{fontWeight:"normal"},children:"You can never know who messaged you!\ud83d\udd2e"}),Object(g.jsx)("input",{type:"text",placeholder:"Your Name",value:a,onChange:function(e){return o(e.target.value)}}),Object(g.jsxs)("button",{onClick:j,children:["Create Your Link ",Object(g.jsx)("span",{style:{marginLeft:"5px"},children:"\ud83d\ude0e"})]}),Object(g.jsxs)("p",{children:["Already have a link? ",Object(g.jsx)(p.b,{to:"/login",children:"Login here"})]})]})},P=n(19),W=n.n(P);var Y=function(){return Object(g.jsx)("div",{className:W.a.footer,children:Object(g.jsxs)("h3",{style:{margin:"0"},children:["Made with \ud83d\udc93 and \u2615 by ",Object(g.jsx)("a",{href:"https://sahilsaha.me",target:"_blank",children:"Sahil Saha"})]})})};var B=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsxs)(p.a,{children:[Object(g.jsx)(I,{}),Object(g.jsxs)(h.c,{children:[Object(g.jsx)(h.a,{path:"/",element:Object(g.jsx)(T,{})}),Object(g.jsx)(h.a,{path:"/create",element:Object(g.jsx)(L,{})}),Object(g.jsx)(h.a,{path:"/login",element:Object(g.jsx)(O,{})}),Object(g.jsx)(h.a,{path:"/message/:id",element:Object(g.jsx)(A,{})})]}),Object(g.jsx)(Y,{})]})})};r.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(B,{})}),document.getElementById("root"))}],[[29,1,2]]]);
//# sourceMappingURL=main.03ff8315.chunk.js.map